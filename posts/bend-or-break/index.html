<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Basic Tools</title>
    <meta name="Description" content="Care About Your Craft.">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Matvii Hodovaniuk Notes">
    <link rel="icon" type="image/png" href="./img/favicon.png"/>
    <script data-ad-client="ca-pub-3079053267675618" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async rel="preconnect" src="https://www.googletagmanager.com/gtag/js?id=UA-128032414-1"></script>
  <script async rel="preconnect">
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-128032414-1');
  </script>
  <body>
    <header>
      <h1 class="home"><a href="/">Matvii Hodovaniuk Notes</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/posts/">Archive</a></li>
        <li class="nav-item"><a href="/about/">About Me</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>The Basic Tools</h1>

<h2 id="decoupling-and-the-law-of-demeter">Decoupling and the Law of Demeter <a class="direct-link" href="#decoupling-and-the-law-of-demeter">#</a></h2>
<h3 id="minimize-coupling">Minimize Coupling <a class="direct-link" href="#minimize-coupling">#</a></h3>
<p>Be careful about how many other modules you interact with and how you came to interact with them.</p>
<p>Traversing relationships between objects directly can quickly lead to a combinatorial explosion.</p>
<pre class="language-java"><code class="language-java"><br>	book<span class="token punctuation">.</span><span class="token function">pages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><br><br>	<span class="token comment">// Instead, we're supposed to go with:</span><br><br>	book<span class="token punctuation">.</span><span class="token function">textOfLastPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>
<p>Symptoms:</p>
<ol>
<li>Large projects where the command to link a unit test is longer than the test program itself</li>
<li>&quot;Simple&quot; changes to one module that propagate through unrelated modules in the system</li>
<li>Developers who are afraid to change code because they aren't sure what might be affected</li>
</ol>
<h3 id="the-law-of-demeter-for-functions">The Law of Demeter for Functions <a class="direct-link" href="#the-law-of-demeter-for-functions">#</a></h3>
<p>The Law of Demeter for functions states that any method of an object should call only methods belonging to:</p>
<pre class="language-js"><code class="language-js"><br><span class="token keyword">class</span> <span class="token class-name">Demeter</span> <span class="token punctuation">{</span><br>	<span class="token keyword">private</span> <span class="token constant">A</span> a<span class="token punctuation">;</span><br>	<span class="token keyword">void</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">B</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		a<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 							<span class="token comment">//itself</span><br>		b<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 							<span class="token comment">//any parameters that were passed to the method</span><br>		<span class="token keyword">new</span> <span class="token class-name">Z</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 					<span class="token comment">// any object it created</span><br>		Singleton<span class="token punctuation">.</span><span class="token constant">INSTANCE</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">// any directly held component</span><br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><strong>Minimize Coupling Between Modules</strong></p>
<h3 id="does-it-really-make-a-difference%3F">Does It Really Make a Difference? <a class="direct-link" href="#does-it-really-make-a-difference%3F">#</a></h3>
<p>Using The Law of Demeter will make your code more adaptable and robust, but at a cost:<br>
you will be writing a large number of wrapper methods that simply forward the request on to a delegate. imposing both a runtime cost and a space overhead.<br>
Balance the pros and cons for your particular application.</p>
<h2 id="metaprogramming">Metaprogramming <a class="direct-link" href="#metaprogramming">#</a></h2>
<p>&quot;Out with the details!&quot; Get them out of the code. While we're at it, we can make our code highly configurable and &quot;soft&quot;—that is, easily adaptable to changes.</p>
<h3 id="dynamic-configuration">Dynamic Configuration <a class="direct-link" href="#dynamic-configuration">#</a></h3>
<p><strong>Configure, Don't Integrate</strong></p>
<h3 id="metadata-driven-applications">Metadata-Driven Applications <a class="direct-link" href="#metadata-driven-applications">#</a></h3>
<p>We want to configure and drive the application via metadata as much as possible.<br>
<em>Program for the general case, and put the specifics somewhere else —outside the compiled code base</em></p>
<p><strong>Put Abstractions in Code Details in Metadata</strong></p>
<p>Benefits:</p>
<ul>
<li>It forces you to decouple your design, which results in a more flexible and adaptable program.</li>
<li>It forces you to create a more robust, abstract design by deferring details—deferring them all the way out of the program.</li>
<li>You can customize the application without recompiling it.</li>
<li>Metadata can be expressed in a manner that's much closer to the problem domain than a general-purpose programming language might be.</li>
<li>You may even be able to implement several different projects using the same application engine, but with different metadata.</li>
</ul>
<h3 id="when-to-configure">When to Configure <a class="direct-link" href="#when-to-configure">#</a></h3>
<p>A flexible approach is to write programs that can reload their configuration while they're running.</p>
<ul>
<li>long-running server process: provide some way to reread and apply metadata while the program is running.</li>
<li>small client GUI application: if restarts quickly no problem.</li>
</ul>
<h2 id="temporal-coupling">Temporal Coupling <a class="direct-link" href="#temporal-coupling">#</a></h2>
<p>Two aspects of time:</p>
<ul>
<li>Concurrency: things happening at the same time</li>
<li>Ordering: the relative positions of things in time</li>
</ul>
<p>We need to allow for concurrency and to think about decoupling any time or order dependencies.<br>
Reduce any time-based dependencies</p>
<h3 id="workflow">Workflow <a class="direct-link" href="#workflow">#</a></h3>
<p>Use <a href="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Activity_conducting.svg/2000px-Activity_conducting.svg.png">activity diagrams</a> to maximize parallelism by identifying activities that could be performed in parallel, but aren't.</p>
<p><strong>Analyze Workflow to Improve Concurrency</strong></p>
<h3 id="architecture">Architecture <a class="direct-link" href="#architecture">#</a></h3>
<p>Balance load among multiple consumer processes: <strong>the hungry consumer model.</strong></p>
<p>In a hungry consumer model, you replace the central scheduler with a number of independent consumer tasks and a centralized work queue. Each consumer task grabs a piece from the work queue and goes on about the business of processing it. As each task finishes its work, it goes back to the queue for some more. This way, if any particular task gets bogged down, the others can pick up the slack, and each individual component can proceed at its own pace. Each component is temporally decoupled from the others.</p>
<p><strong>Design Using Services</strong></p>
<h3 id="design-for-concurrency">Design for Concurrency <a class="direct-link" href="#design-for-concurrency">#</a></h3>
<p>Programming with threads imposes some design constraints—and that's a good thing.</p>
<ul>
<li>Global or static variables must be protected from concurrent access</li>
<li>Check if you need a global variable in the first place.</li>
<li>Consistent state information, regardless of the order of calls</li>
<li>Objects must always be in a valid state when called, and they can be called at the most awkward times. Use class invariants, discussed in Design by Contract.</li>
</ul>
<h3 id="cleaner-interfaces">Cleaner Interfaces <a class="direct-link" href="#cleaner-interfaces">#</a></h3>
<p>Thinking about concurrency and time-ordered dependencies can lead you to design cleaner interfaces as well.</p>
<p><strong>Always Design for Concurrency</strong></p>
<h3 id="deployment">Deployment <a class="direct-link" href="#deployment">#</a></h3>
<p>You can be flexible as to how the application is deployed: standalone, client-server, or n-tier.</p>
<p>If we design to allow for concurrency, we can more easily meet scalability or performance requirements when the time comes—and if the time never comes, we still have the benefit of a cleaner design.</p>
<h2 id="it's-just-a-view">It's Just a View <a class="direct-link" href="#it's-just-a-view">#</a></h2>
<h3 id="publish%2Fsubscribe">Publish/Subscribe <a class="direct-link" href="#publish%2Fsubscribe">#</a></h3>
<p>Objects should be able to register to receive only the events they need, and should never be sent events they don't need.</p>
<p>Use this publish/subscribe mechanism to implement a very important design concept: the separation of a model from views of the model.</p>
<h3 id="model-view-controller">Model-View-Controller <a class="direct-link" href="#model-view-controller">#</a></h3>
<p>Separates the model from both the GUI that represents it and the controls that manage the view.</p>
<p>Advantage:</p>
<ul>
<li>Support multiple views of the same data model.</li>
<li>Use common viewers on many different data models.</li>
<li>Support multiple controllers to provide nontraditional input mechanisms.</li>
</ul>
<p><strong>Separate Views from Models</strong></p>
<h3 id="beyond-guis">Beyond GUIs <a class="direct-link" href="#beyond-guis">#</a></h3>
<p>The controller is more of a coordination mechanism, and doesn't have to be related to any sort of input device.</p>
<ul>
<li><strong>Model</strong> The abstract data model representing the target object. The model has no direct knowledge of any views or controllers.</li>
<li><strong>View</strong> A way to interpret the model. It subscribes to changes in the model and logical events from the controller.</li>
<li><strong>Controller</strong> A way to control the view and provide the model with new data. It publishes events to both the model and the view.</li>
</ul>
<h2 id="blackboards">Blackboards <a class="direct-link" href="#blackboards">#</a></h2>
<p>A blackboard system lets us decouple our objects from each other completely, providing a forum where knowledge consumers and producers can exchange data anonymously and asynchronously.</p>
<h3 id="blackboard-implementations">Blackboard Implementations <a class="direct-link" href="#blackboard-implementations">#</a></h3>
<p>With Blackboard systems, you can store active objects—not just data—on the blackboard, and retrieve them by partial matching of fields (via templates and wildcards) or by subtypes.</p>
<p>Functions that a Blackboard system should have:</p>
<ul>
<li><strong>read</strong> Search for and retrieve data from the space.</li>
<li><strong>write</strong> Put an item into the space.</li>
<li><strong>take</strong> Similar to read, but removes the item from the space as well.</li>
<li><strong>notify</strong> Set up a notification to occur whenever an object is written that matches the template.</li>
</ul>
<p>Organizing Your Blackboard by partitioning it when working on large cases.</p>
<p><strong>Use Blackboards to Coordinate Workflow</strong></p>


<p><a href="/">← Home</a></p>

    </main>

    <footer>
      Hope this was helpful.
      Feel free to write to me if you have any questions.

      Find a mistake? Please write to me(matvii [at] hodovani [dot] uk) or 
      <a href="https://github.com/hodovani/hodovani.github.io/blob/master/_source/./posts/bend-or-break.md">edit this page on GitHub</a>
    </footer>

    <!-- Current page: /posts/bend-or-break/ -->
  </body>
  
  <style lazyload>
    :root{--red:#c5004a;--darkred:#7f0036;--lightgray:#e0e0e0;--gray:#c0c0c0;--darkgray:#333;--navy:#17050f;--blue:#082840;--white:#fff}*{box-sizing:border-box}body,html{max-width:630px;padding:0;margin:auto;font-family:system-ui,sans-serif;color:var(--darkgray);background-color:var(--white)}p:last-child{margin-bottom:0}.tmpl-post li,img,p{max-width:37.5em}.tmpl-post li,p{line-height:1.45}a[href]{color:var(--blue)}a[href]:visited{color:var(--navy)}footer,main{padding:1rem}main :first-child{margin-top:0}header{border-bottom:1px dashed var(--lightgray)}header:after{content:"";display:table;clear:both}table{margin:1em 0}table td,table th{padding-right:1em}code,pre{font-family:Consolas,Menlo,Monaco,"Andale Mono WT","Andale Mono","Lucida Console","Lucida Sans Typewriter","DejaVu Sans Mono","Bitstream Vera Sans Mono","Liberation Mono","Nimbus Mono L","Courier New",Courier,monospace;line-height:1.5}pre{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;background-color:#f6f6f6}.highlight-line{display:block;padding:.125em 1em;text-decoration:none;color:inherit}.highlight-line:empty:before{content:" "}.highlight-line+br{display:none}.highlight-line-isdir{color:#b0b0b0;background-color:#222}.highlight-line-active{background-color:#444;background-color:hsla(0,0%,27%,.8)}.highlight-line-add{background-color:#45844b}.highlight-line-remove{background-color:#902f2f}.home{padding:0 1rem;float:left;margin:1rem 0;font-size:1em}.home :link:not(:hover){text-decoration:none}.nav{padding:0;list-style:none;float:left;margin-left:1em}.nav-item{display:inline-block;margin-right:1em}.nav-item a[href]:not(:hover){text-decoration:none}.nav-item-active{font-weight:700;text-decoration:underline}.postlist{list-style:none;padding:0}.postlist-item{counter-increment:start-from -1}.postlist-item:before{display:inline-block;pointer-events:none;content:"" counter(start-from,decimal-leading-zero) ". ";line-height:100%;text-align:right}.postlist-date,.postlist-item:before{font-size:.8125em;color:var(--darkgray)}.postlist-date{word-spacing:-.5px}.postlist-link{display:inline-block;padding:.25em .1875em}.postlist-item-active .postlist-link{font-weight:700}.tmpl-home .postlist-link{font-size:1.1875em;font-weight:700}.tag{display:inline-block;vertical-align:text-top;text-transform:uppercase;font-size:.625em;padding:2px 4px;margin-left:.8em;background-color:var(--red);color:var(--white);border-radius:.25em;text-decoration:none}a[href].tag,a[href].tag:visited{color:#fff}.warning{background-color:#ffc;padding:1em .625em}.warning ol:only-child{margin:0}.direct-link{font-family:sans-serif;text-decoration:none;font-style:normal;margin-left:.1em}a[href].direct-link,a[href].direct-link:visited{color:transparent}:hover>a[href].direct-link,:hover>a[href].direct-link:visited,a[href].direct-link:focus,a[href].direct-link:focus:visited{color:#aaa}
  </style>
    
  <style lazyload>
    code[class*=language-],pre[class*=language-]{font-size:14px;line-height:1.375;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;background:#272822;color:#f8f8f2}pre[class*=language-]{padding:1.5em 0;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#75715e}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#fd971f}.token.property{color:#f4bf75}.token.tag{color:#66d9ef}.token.string{color:#a1efe4}.token.selector{color:#ae81ff}.token.attr-name{color:#fd971f}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#a1efe4}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#a6e22e}.token.atrule,.token.regex,.token.statement{color:#a1efe4}.token.placeholder,.token.variable{color:#66d9ef}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #f9f8f5;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#f92672}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #f92672;outline-offset:.4em}
  </style>
</html>
